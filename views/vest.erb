<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>あしたのベスト</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<header class="navbar navbar-expand navbar-dark flex-column flex-md-row">
  <a class="navbar-brand mt-1 mt-md-0 mb-2 mb-md-0 mr-0 mr-md-2" href="/">あしたのベスト</a>
  <ul class="navbar-nav flex-row">
    <li class="nav-item">
      <a class="nav-link " href="/vests">ベスト一覧</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/">みんなの投稿</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/support">応援する</a>
    </li>
  </ul>
</header>
<main>
  <div class="canvas">
    <canvas id="myCanvas" width="300" height="495"></canvas>
  </div>
</main>
<!--<script src="/js/canvas-vest.js"></script>-->
<script type="text/javascript" charset="utf-8">
  "use strict";
  <% ids = @id.to_s.chars %>
  const c = document.getElementById("myCanvas");
  const ctx = c.getContext("2d");
  const imageObj1 = new Image();
  const imageObj2 = new Image();
  const imageObj3 = new Image();
  imageObj1.src = "../images/h<%= ids[0] %>.jpg";

  imageObj1.onload = () => {
    ctx.drawImage(imageObj1, 0, 0, 300, 120);

    imageObj2.src = "../images/v<%= ids[1] %>.jpg";
    imageObj2.onload = () => {
      ctx.drawImage(imageObj2, 0, 120, 300, 150);

      imageObj3.src = "../images/p<%= ids[2] %>.jpg";
      imageObj3.onload = () => {
        ctx.drawImage(imageObj3, 0, 270, 300, 225);
      };
    };
  };
</script>
</body>

</html>